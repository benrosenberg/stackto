
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>./examples/tests/first_n_primes.stackto</title>
  <style>
pre {
    font-family: Consolas, monospace;
}

.kw-set, .kw-output, .kw-if, .kw-goto, .kw-mark {
    color: rgb(0, 13, 199)
}

.bracket {
    color:rgb(0, 0, 0);
}

.var {
    color:rgb(0, 0, 0);
}

.op {
    color:rgb(0, 136, 9);
}

.number {
    color:rgb(0, 201, 184);
}

.string {
    color:rgb(180, 57, 0);
}

.bool {
    color:rgb(162, 0, 211);
}

.mark {
    color:rgb(58, 58, 58);
    font-weight: bold;
}

.generated-code {
    background-color: rgb(240, 240, 240);
}

.comment {
    font-style: italic;
    color:rgb(111, 111, 111);
}</style>
</head>

<div class="generated-code">
<code><pre>
<span class="kw-output">output</span> <span class="bracket">[</span><span class="string">"Enter a number of primes to generate:"</span><span class="bracket">]</span>;
<span class="kw-set">set</span> <span class="var">$n</span> <span class="op">input</span>;
<span class="kw-set">set</span> <span class="var">$n</span> <span class="bracket">[</span><span class="var">$n</span> <span class="op">num</span><span class="bracket">]</span>;
<span class="kw-output">output</span> <span class="bracket">[</span><span class="string">"Generating a list of the first "</span> <span class="var">$n</span> <span class="op">str</span> <span class="op">+</span> <span class="string">" primes..."</span> <span class="op">+</span><span class="bracket">]</span>;
<span class="kw-set">set</span> <span class="var">$i</span> <span class="bracket">[</span><span class="number">2</span><span class="bracket">]</span>;
<span class="kw-set">set</span> <span class="var">$prime_list</span> <span class="bracket">[</span><span class="number">0</span> <span class="op">\</span><span class="bracket">]</span>;
<span class="kw-mark">mark</span> <span class="mark">loop_start</span>;
<span class="comment"># determine whether $i is prime</span>
<span class="kw-set">set</span> <span class="var">$j</span> <span class="bracket">[</span><span class="number">2</span><span class="bracket">]</span>;
<span class="kw-mark">mark</span> <span class="mark">inner_loop_start</span>;
<span class="kw-set">set</span> <span class="var">$is_prime</span> <span class="bracket">[</span><span class="bool">true</span><span class="bracket">]</span>;
<span class="kw-if">if</span> <span class="bracket">[</span><span class="var">$j</span> <span class="var">$i</span> <span class="number">2</span> <span class="op">/</span> <span class="op">></span><span class="bracket">]</span> <span class="kw-if">then</span>
    <span class="kw-goto">goto</span> <span class="mark">inner_loop_end</span>;
<span class="kw-set">set</span> <span class="var">$rem_zero</span> <span class="bracket">[</span><span class="var">$i</span> <span class="var">$j</span> <span class="op">%</span> <span class="number">0</span> <span class="op">=</span> <span class="op">!</span><span class="bracket">]</span>;
<span class="kw-if">if</span> <span class="bracket">[</span><span class="var">$rem_zero</span><span class="bracket">]</span> <span class="kw-if">then</span>
    <span class="kw-set">set</span> <span class="var">$j</span> <span class="bracket">[</span><span class="var">$j</span> <span class="number">1</span> <span class="op">+</span><span class="bracket">]</span>;
<span class="kw-if">if</span> <span class="bracket">[</span><span class="var">$rem_zero</span> <span class="op">!</span><span class="bracket">]</span> <span class="kw-if">then</span>
    <span class="kw-set">set</span> <span class="var">$is_prime</span> <span class="bracket">[</span><span class="bool">false</span><span class="bracket">]</span>;
<span class="kw-if">if</span> <span class="bracket">[</span><span class="var">$rem_zero</span> <span class="op">!</span><span class="bracket">]</span> <span class="kw-if">then</span>
    <span class="kw-goto">goto</span> <span class="mark">inner_loop_end</span>;
<span class="kw-goto">goto</span> <span class="mark">inner_loop_start</span>;
<span class="kw-mark">mark</span> <span class="mark">inner_loop_end</span>;
<span class="kw-if">if</span> <span class="bracket">[</span><span class="var">$is_prime</span><span class="bracket">]</span> <span class="kw-if">then</span>
    <span class="kw-output">output</span> <span class="bracket">[</span><span class="string">"Found prime: "</span> <span class="var">$i</span> <span class="op">str</span> <span class="op">+</span><span class="bracket">]</span>;
<span class="comment"># $is_prime is true if $i is prime and false otherwise</span>
<span class="kw-if">if</span> <span class="bracket">[</span><span class="var">$is_prime</span><span class="bracket">]</span> <span class="kw-if">then</span>
    <span class="kw-set">set</span> <span class="var">$prime_list</span> <span class="bracket">[</span><span class="var">$prime_list</span> <span class="var">$i</span> <span class="op">:</span><span class="bracket">]</span>;
<span class="kw-if">if</span> <span class="bracket">[</span><span class="var">$prime_list</span> <span class="op">#</span> <span class="var">$n</span> <span class="op">=</span><span class="bracket">]</span> <span class="kw-if">then</span>
    <span class="kw-goto">goto</span> <span class="mark">loop_end</span>;
<span class="kw-set">set</span> <span class="var">$i</span> <span class="bracket">[</span><span class="var">$i</span> <span class="number">1</span> <span class="op">+</span><span class="bracket">]</span>;
<span class="kw-goto">goto</span> <span class="mark">loop_start</span>;
<span class="kw-mark">mark</span> <span class="mark">loop_end</span>;
<span class="kw-output">output</span> <span class="bracket">[</span><span class="string">"First "</span> <span class="var">$n</span> <span class="op">str</span> <span class="string">" primes: "</span> <span class="var">$prime_list</span> <span class="op">str</span> <span class="op">+</span> <span class="op">+</span> <span class="op">+</span><span class="bracket">]</span>;
</pre></code>
</div>
